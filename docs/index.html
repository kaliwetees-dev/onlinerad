<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Radio App</title>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /*
          This CSS is a direct combination of the original style.css file
          and some general styling to ensure a modern, responsive look.
        */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #8a2be2;
            --secondary: #ff6b6b;
            --dark: #121212;
            --darker: #0a0a0a;
            --light: #f8f9fa;
            --gray: #2d2d2d;
            --success: #20bf6b;
            --warning: #f7b731;
            --danger: #eb3b5a;
            --card-bg: #1e1e1e;
            --player-bg: #252525;
        }
        
        body {
            background: linear-gradient(135deg, var(--darker), var(--dark));
            color: var(--light);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .app-container {
            background-color: var(--dark);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            max-width: 900px;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        /* Radio Player Section */
        .radio-player {
            background-color: var(--player-bg);
            border-radius: 15px;
            padding: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
        }
        
        .player-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 15px;
        }
        
        #main-logo {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--primary);
            transition: transform 0.3s ease-in-out;
        }
        
        #main-logo:hover {
            transform: scale(1.05);
        }
        
        .player-info {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        #main-name {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--light);
        }
        
        #main-genre {
            font-size: 1rem;
            color: var(--secondary);
            font-style: italic;
        }
        
        #main-song {
            font-size: 0.9rem;
            color: #bbb;
            margin-top: 10px;
            animation: pulse 2s infinite;
        }
        
        .player-controls {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .control-btn {
            background-color: var(--primary);
            color: var(--light);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s, background-color 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .control-btn:hover {
            transform: scale(1.1);
        }
        
        .control-btn:active {
            transform: scale(0.95);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }
        
        .main-play-btn {
            width: 80px;
            height: 80px;
            font-size: 2rem;
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
            max-width: 300px;
        }
        
        .volume-control input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            background: var(--gray);
            border-radius: 5px;
            outline: none;
            transition: background 0.2s;
        }
        
        .volume-control input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--secondary);
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
        }
        
        .status-message {
            margin-top: 15px;
            font-weight: bold;
            font-size: 1rem;
            letter-spacing: 1px;
        }
        
        /* Search Section */
        .search-bar {
            position: relative;
            width: 100%;
            margin-top: 10px;
        }
        
        .search-bar input {
            width: 100%;
            padding: 15px 40px 15px 20px;
            border-radius: 50px;
            border: none;
            background-color: var(--card-bg);
            color: var(--light);
            font-size: 1rem;
            outline: none;
            transition: box-shadow 0.3s;
        }
        
        .search-bar input:focus {
            box-shadow: 0 0 0 3px var(--primary);
        }
        
        .search-bar i {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--light);
        }
        
        /* Stations Grid Section */
        .stations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            width: 100%;
        }
        
        .station-card {
            background-color: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            text-align: center;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .station-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
        }
        
        .card-logo {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }
        
        .card-content {
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .card-name {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--light);
        }
        
        .card-genre {
            font-size: 0.8rem;
            color: #aaa;
            margin-bottom: 10px;
        }
        
        .card-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: auto;
        }
        
        .card-btn {
            background-color: var(--primary);
            color: var(--light);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .card-btn.playing {
            background-color: var(--success);
        }
        
        .now-playing {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--success);
            font-weight: bold;
            display: none; /* Initially hidden */
        }
        
        .playing .now-playing {
            display: flex;
        }
        
        .indicator {
            width: 8px;
            height: 8px;
            background-color: var(--success);
            border-radius: 50%;
            animation: blink 1s infinite;
        }
        
        /* Animations */
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.6; }
            100% { opacity: 1; }
        }
        
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0; }
            100% { opacity: 1; }
        }
        
        @media (max-width: 600px) {
            .app-container {
                padding: 15px;
                gap: 20px;
            }
        
            .radio-player {
                padding: 15px;
            }
        
            #main-logo {
                width: 100px;
                height: 100px;
            }
        
            #main-name {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>

    <main class="app-container">
        <!-- Radio Player Section -->
        <section class="radio-player">
            <div class="player-content">
                <img id="main-logo" src="https://placehold.co/150x150/252525/fff?text=Logo" alt="Station Logo">
                <div class="player-info">
                    <h2 id="main-name">Select a Station</h2>
                    <p id="main-genre">Genre</p>
                    <p id="main-song">Song title will appear here...</p>
                </div>
            </div>
            <div class="player-controls">
                <button id="prev-btn" class="control-btn"><i class="fas fa-step-backward"></i></button>
                <button id="play-btn" class="control-btn main-play-btn"><i class="fas fa-play"></i></button>
                <button id="next-btn" class="control-btn"><i class="fas fa-step-forward"></i></button>
            </div>
            <div class="volume-control">
                <i class="fas fa-volume-down"></i>
                <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="0.5">
                <i class="fas fa-volume-up"></i>
            </div>
            <div id="playing-status" class="status-message">Paused</div>
        </section>

        <!-- Search Bar Section -->
        <section class="search-bar">
            <input type="text" placeholder="Search for a station...">
            <i class="fas fa-search"></i>
        </section>

        <!-- Stations Grid Section -->
        <section class="stations-grid" id="stations-container">
            <!-- Station cards will be dynamically added here by JavaScript -->
        </section>
    </main>
    
    <!-- JavaScript for Player Logic -->
    <script>
        // Data for all radio stations, embedded directly from stations.json
        const radioStations = [
            {
                "id": "1",
                "name": "Love Radio",
                "currentSong": "",
                "logoUrl": "https://upload.wikimedia.org/wikipedia/en/3/32/Love_Radio_2021_logo.png",
                "streamingUrl": "https://azura.loveradio.com.ph/listen/love_radio_manila/radio.mp3",
                "genre": "Pop"
            },
            {
                "id": "2",
                "name": "Easy Rock Manila",
                "currentSong": "",
                "logoUrl": "https://static.mytuner.mobi/media/tvos_radios/j32PnqrN5L.jpg",
                "streamingUrl": "https://azura.easyrock.com.ph/listen/easy_rock_manila/radio.mp3",
                "genre": "Chill Out"
            },
            {
                "id": "3",
                "name": "Easy Rock Boracay",
                "currentSong": "",
                "logoUrl": "https://static.mytuner.mobi/media/tvos_radios/j32PnqrN5L.jpg",
                "streamingUrl": "https://easyrockboracay.radioca.st/;",
                "genre": "Pop"
            },
            {
                "id": "4",
                "name": "Energy FM Manila",
                "currentSong": "",
                "logoUrl": "https://upload.wikimedia.org/wikipedia/commons/a/ac/Energy_FM_logo.png",
                "streamingUrl": "http://ph-icecast.eradioportal.com:8000/energyfm_manila",
                "genre": "Rock"
            },
            {
                "id": "5",
                "name": "W Rock Cebu",
                "currentSong": "",
                "logoUrl": "https://i1.sndcdn.com/artworks-LMzzdCF2XHfGMy9U-LRss5A-t1080x1080.jpg",
                "streamingUrl": "https://wrockceb-iradioph.radioca.st/;",
                "genre": "Dance"
            },
            {
                "id": "6",
                "name": "Yes FM Manila",
                "currentSong": "",
                "logoUrl": "https://upload.wikimedia.org/wikipedia/en/thumb/6/64/YesFMManila2024.png/250px-YesFMManila2024.png",
                "streamingUrl": "https://azura.yesfm.com.ph/listen/yes_fm_manila/radio.mp3",
                "genre": "Top 40"
            },
            {
                "id": "7",
                "name": "Yes FM CDO",
                "currentSong": "",
                "logoUrl": "https://static.mytuner.mobi/media/tvos_radios/702/yes-fm-cagayan-de-oro-1047.ae3600e7.jpg",
                "streamingUrl": "https://yesfmcdo.radioca.st/;",
                "genre": "Classic"
            },
            {
                "id": "8",
                "name": "I FM",
                "currentSong": "",
                "logoUrl": "https://is1-ssl.mzstatic.com/image/thumb/Purple113/v4/54/dd/e4/54dde455-6922-650a-0785-6c9a844663e7/source/512x512bb.jpg",
                "streamingUrl": "https://magic.radioca.st/stream",
                "genre": "Pop"
            },
            {
                "id": "9",
                "name": "BRGY LS",
                "currentSong": "",
                "logoUrl": "https://upload.wikimedia.org/wikipedia/en/thumb/a/ad/Barangay_LS_97.1_logo_2023.png/420px-Barangay_LS_97.1_logo_2023.png",
                "streamingUrl": "https://stream.zeno.fm/dphe9050afhvv",
                "genre": "Chill Out"
            },
            {
                "id": "10",
                "name": "STAR FM",
                "currentSong": "",
                "logoUrl": "https://upload.wikimedia.org/wikipedia/en/6/60/1027starfm.png",
                "streamingUrl": "https://stream-144.zeno.fm/69b1kf7q0y5tv",
                "genre": "Pop"
            }
        ];

        // Audio object
        let audio = new Audio();
        let currentStationIndex = -1; // -1 indicates no station is selected initially
        let isPlaying = false;

        // DOM Elements
        const stationsContainer = document.getElementById('stations-container');
        const mainLogo = document.getElementById('main-logo');
        const mainName = document.getElementById('main-name');
        const mainGenre = document.getElementById('main-genre');
        const mainSong = document.getElementById('main-song');
        const playBtn = document.getElementById('play-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const volumeSlider = document.getElementById('volume-slider');
        const playingStatus = document.getElementById('playing-status');
        const searchInput = document.querySelector('.search-bar input');

        /**
         * Initializes the application.
         * This function is called after the window loads and the station data is fetched.
         */
        function init() {
            renderStations();
            setupEventListeners();
            audio.volume = volumeSlider.value;
        }

        /**
         * Renders the radio station cards dynamically from the radioStations array.
         */
        function renderStations() {
            stationsContainer.innerHTML = '';
            radioStations.forEach((station, index) => {
                const card = document.createElement('div');
                card.className = 'station-card';
                card.innerHTML = `
                    <img class="card-logo" src="${station.logoUrl}" alt="${station.name}" onerror="this.src='https://placehold.co/150x150/252525/fff?text=Logo'">
                    <div class="card-content">
                        <h3 class="card-name">${station.name}</h3>
                        <p class="card-genre">${station.genre}</p>
                        <div class="card-controls">
                            <button class="card-btn" data-index="${index}">
                                <i class="fas fa-play"></i>
                            </button>
                            <div class="now-playing">
                                <div class="indicator"></div>
                                <span>Live</span>
                            </div>
                        </div>
                    </div>
                `;
                stationsContainer.appendChild(card);
            });
            updatePlayButtons();
        }

        /**
         * Sets up all the event listeners for user interactions.
         */
        function setupEventListeners() {
            // Event listener for station card play buttons
            stationsContainer.addEventListener('click', function(event) {
                const button = event.target.closest('.card-btn');
                if (button) {
                    const index = parseInt(button.getAttribute('data-index'));
                    playStation(index);
                }
            });

            // Event listeners for main player controls
            playBtn.addEventListener('click', togglePlayPause);
            prevBtn.addEventListener('click', playPrevious);
            nextBtn.addEventListener('click', playNext);
            volumeSlider.addEventListener('input', () => {
                audio.volume = volumeSlider.value;
            });

            // Event listener for search functionality
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                document.querySelectorAll('.station-card').forEach((card, index) => {
                    const stationName = radioStations[index].name.toLowerCase();
                    if (stationName.includes(searchTerm)) {
                        card.style.display = 'flex'; // Use flex to maintain layout
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        }

        /**
         * Plays a specific radio station by index.
         * @param {number} index - The index of the station to play.
         */
        function playStation(index) {
            // If the same station is clicked, just toggle play/pause
            if (index === currentStationIndex) {
                togglePlayPause();
                return;
            }

            currentStationIndex = index;
            const station = radioStations[index];

            // Update main player display
            mainLogo.src = station.logoUrl;
            mainName.textContent = station.name;
            mainGenre.textContent = station.genre;
            mainSong.textContent = station.currentSong || 'Loading stream...';

            // Stop current audio and play the new one
            audio.pause();
            audio.src = station.streamingUrl;

            audio.play()
                .then(() => {
                    isPlaying = true;
                    updatePlayButtons();
                    playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                    playingStatus.textContent = 'Now Playing';
                })
                .catch(error => {
                    console.error('Error playing audio:', error);
                    mainSong.textContent = 'Error: Could not load stream';
                    isPlaying = false;
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                    playingStatus.textContent = 'Paused';
                });
        }

        /**
         * Toggles the play/pause state of the current audio stream.
         */
        function togglePlayPause() {
            if (audio.src === '') {
                // If no station is selected, play the first one.
                playStation(0);
                return;
            }

            if (isPlaying) {
                audio.pause();
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
                playingStatus.textContent = 'Paused';
            } else {
                audio.play()
                    .then(() => {
                        playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        playingStatus.textContent = 'Now Playing';
                    })
                    .catch(error => {
                        console.error('Error playing audio:', error);
                        mainSong.textContent = 'Error: Could not load stream';
                    });
            }
            isPlaying = !isPlaying;
            updatePlayButtons();
        }

        /**
         * Plays the previous station in the list.
         */
        function playPrevious() {
            // Ensure a station is selected before trying to play a previous one
            if (currentStationIndex === -1) {
                playStation(radioStations.length - 1);
                return;
            }
            currentStationIndex = (currentStationIndex - 1 + radioStations.length) % radioStations.length;
            playStation(currentStationIndex);
        }

        /**
         * Plays the next station in the list.
         */
        function playNext() {
            // Ensure a station is selected before trying to play a next one
            if (currentStationIndex === -1) {
                playStation(0);
                return;
            }
            currentStationIndex = (currentStationIndex + 1) % radioStations.length;
            playStation(currentStationIndex);
        }

        /**
         * Updates the play/pause icons on the station cards based on the current state.
         */
        function updatePlayButtons() {
            document.querySelectorAll('.card-btn').forEach((button, index) => {
                const icon = button.querySelector('i');
                if (index === currentStationIndex && isPlaying) {
                    icon.className = 'fas fa-pause';
                    button.classList.add('playing');
                } else {
                    icon.className = 'fas fa-play';
                    button.classList.remove('playing');
                }
            });
            // Update the now playing indicator on the cards
            document.querySelectorAll('.now-playing').forEach((indicator, index) => {
                if (index === currentStationIndex && isPlaying) {
                    indicator.style.display = 'flex';
                } else {
                    indicator.style.display = 'none';
                }
            });
        }

        
    </script>
</body>
</html>


